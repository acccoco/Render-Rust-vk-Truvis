#pragma once
#include "share/frame_data.slangi"
#include "share/scene.slangi"

#ifdef __SLANG__

// set 0: static
[[vk::binding(0, 0)]]
SamplerState global_samplers[];

// set 1: bindless
// 注意：需要 nonuniform，表示同一个 wavefront 的下标是不同的
[[vk::binding(0, 1)]]
Sampler2D<float4> bindless_textures[];

[[vk::binding(1, 1)]]
RWTexture2D<float4> bindless_uavs[];

[[vk::binding(2, 1)]]
Texture2D<float4> bindless_srvs[];

// set 2: per-frame
[[vk::binding(0, 2)]]
ConstantBuffer<PerFrameData, ScalarDataLayout> per_frame_data;

[[vk::binding(1, 2)]]
ConstantBuffer<GPUScene, ScalarDataLayout> gpu_scene;

#endif

#ifndef GLOBAL_SETS_COUNT
    #define GLOBAL_SETS_COUNT 3
#endif 