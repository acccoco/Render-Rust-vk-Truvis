# Rust 代码格式化配置文件
# 参考文档: https://rust-lang.github.io/rustfmt
# 使用前需安装 nightly 工具链: rustup toolchain install nightly
unstable_features = true # 启用实验性功能

# 代码风格版本 (2024 最新标准)
style_edition = "2024"

# ===== 行宽度设置 =====
max_width = 120                     # 代码行最大宽度
comment_width = 120                 # 注释行最大宽度
chain_width = 120                   # 方法链调用最大宽度
fn_call_width = 120                 # 函数调用最大宽度
single_line_if_else_max_width = 120 # 单行 if-else 最大宽度
fn_single_line = false              # 禁止函数定义压缩为单行

# ===== 宏式化 =====
format_macro_matchers = true  # 格式化宏匹配模式
format_macro_bodies = true     # 格式化宏体

# ===== 文本格式化 =====
wrap_comments = true              # 自动换行过长注释
format_strings = true             # 格式化字符串字面量
condense_wildcard_suffixes = true # 简化通配符后缀 (如 Foo { x, .. })

# ===== 代码布局 =====
brace_style = "AlwaysNextLine" # 大括号总是换行 (Allman 风格)
blank_lines_upper_bound = 2    # 最多连续 2 个空行
binop_separator = "Back"       # 二元运算符放在行尾

# ===== 导入语句 =====
group_imports = "StdExternalCrate" # 分组顺序: 标准库 -> 外部 crate -> 当前 crate
imports_granularity = "Crate"      # 按 crate 级别合并导入
reorder_imports = true             # 自动排序导入语句

# ===== 系统设置 =====
newline_style = "Windows" # 使用 Unix 换行符 (\n)
